# Ubiquitous Language Glossary

This document defines the canonical terms used throughout the SHINOBI WAY codebase. Each concept has ONE standard name to ensure consistency and reduce cognitive load.

## Core Domain Terms

| Term | Definition | Type/Interface | Notes |
|------|------------|----------------|-------|
| **Floor** | A single level of the tower to explore | `BranchingFloor` | Not "level" - that's for character progression |
| **Room** | An explorable location within a floor | `BranchingRoom` | Uses branching 1→2→4 structure |
| **Activity** | An action or encounter within a room | `RoomActivities` | Processed in `ACTIVITY_ORDER` |
| **Guardian** | Elite enemy guarding floor exit | `Enemy` with `tier='Guardian'` | Generated by `generateGuardian()` |
| **Player** | The player character entity | `Player` | "character" only in UI labels |
| **Level** | Player's character progression level | `player.level` | Distinct from "floor" |
| **Exp** | Experience points toward next level | `player.exp` | Short for "experience" |
| **Skill** | A learnable ability/jutsu | `Skill` | |
| **Item** | Equipment, component, or artifact | `Item` | |
| **Component** | Crafting material for synthesis | `ComponentId` | Basic items for crafting |
| **Artifact** | Crafted item with passive effects | `Item` with `recipe` | Created via synthesis |
| **Ryo** | In-game currency | `player.ryo` | |
| **Clan** | Player's ninja clan (affects stats) | `Clan` | Uzumaki, Uchiha, Hyuga, Lee, Yamanaka |
| **Arc** | Story chapter | `arc: string` | Academy, Waves, Exams, Rogue, War |

## Exploration Terms

| Term | Definition | Type/Interface |
|------|------------|----------------|
| **Depth** | True distance from floor start | `room.depth` |
| **Tier** | Visual display tier (0=current, 1=children, 2=grandchildren) | `room.tier: RoomTier` |
| **Accessible** | Room can be entered | `room.isAccessible` |
| **Cleared** | All activities in room completed | `room.isCleared` |
| **Exit** | Final room leading to next floor | `room.isExit` |

## Combat Terms

| Term | Definition | Type/Interface |
|------|------------|----------------|
| **Combat** | Turn-based battle sequence | `GameState.COMBAT` |
| **Turn** | Single action opportunity | Turn order system |
| **Approach** | Pre-combat positioning choice | `ApproachType` |
| **Terrain** | Environmental combat modifiers | `TerrainType` |
| **Element** | Damage element (Fire, Water, etc.) | `ElementType` |
| **Damage Type** | Physical/Elemental/Mental/True | `DamageType` |

## Activity Types (Canonical Order)

Activities are processed in this order within each room:

1. `combat` - Fight room enemy
2. `eliteChallenge` - Optional artifact guardian fight
3. `merchant` - Buy items
4. `event` - Story/choice event
5. `scrollDiscovery` - Learn new jutsu
6. `rest` - Heal HP/chakra
7. `training` - Spend resources for stats
8. `treasure` - Collect components/ryo

## Game States

```typescript
enum GameState {
  MENU,             // Main menu
  CHAR_SELECT,      // Character selection
  EXPLORE,          // Branching room exploration
  COMBAT,           // Combat sequence
  LOOT,             // Loot distribution
  MERCHANT,         // Shop/trading
  EVENT,            // Story event
  TRAINING,         // Stat training scene
  SCROLL_DISCOVERY, // Jutsu scroll discovery
  GAME_OVER,        // Game over screen
  GUIDE             // Help/guide screen
}
```

## Event System Types

| Term | Definition | Type/Interface |
|------|------------|----------------|
| **GameEvent** | A narrative event with choices | `GameEvent` |
| **EventChoice** | A player response option | `EventChoice` |
| **EventOutcome** | Weighted result of a choice | `EventOutcome` |
| **RiskLevel** | Danger indicator for choices | `RiskLevel` |

## Naming Conventions

### Do Use
- `floor` for tower progression
- `level` for character progression
- `room` for explorable spaces
- `activity` for room actions
- `combat` for battles (never "battle" or "fight")
- `player` for the character entity
- `Guardian` for exit room bosses

### Don't Use
- ~~`node`~~ - Legacy term, use `room`
- ~~`BRANCHING_EXPLORE`~~ - Renamed to `EXPLORE`
- ~~`EXPLORE_MAP`~~ - Deleted (legacy)
- ~~`EnhancedGameEventDefinition`~~ - Renamed to `GameEvent`
- ~~`EnhancedEventChoice`~~ - Renamed to `EventChoice`
- ~~`ENHANCED_EVENTS`~~ - Renamed to `EVENTS`
- ~~`generateSemiBoss`~~ - Renamed to `generateGuardian`

## State Terminology

| Context | Term | Meaning |
|---------|------|---------|
| Room | `cleared` | All activities completed |
| Activity | `completed` | Single activity done |
| Treasure | `collected` | Treasure picked up |
