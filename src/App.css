/* src/App.css */

/* Character Stats Panel - Left sidebar background */
.character-stats-panel {
  background-image: url('/assets/character_stats_background.png');
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
  position: relative;
}

/* Subtle dark overlay for text readability */
.character-stats-panel::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.4) 0%,
    rgba(0, 0, 0, 0.2) 50%,
    rgba(0, 0, 0, 0.5) 100%
  );
  pointer-events: none;
  z-index: 1;
}

/* Content wrapper to sit above the overlay */
.character-stats-panel > * {
  position: relative;
  z-index: 2;
}

/* Primary Stats Panel Background */
.primary-stats-panel {
  background-image: url('/assets/background_left_panel_character_stats.png');
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
  position: relative;
}

.primary-stats-panel > * {
  position: relative;
  z-index: 2;
}

/* Exploration Combat Card Background */
.exploration-combat-card {
  background-image: url('/assets/background_exploration_combat.png');
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
}

.parchment-panel {
  /* Use your specific PNG file here */
  background-image: url('/assets/background_parchment.png');
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
  
  /* CRITICAL: This creates the "Vignette" effect.
     It darkens the edges heavily so the parchment fades into the 
     black sidebar and log area seamlessly. */
  box-shadow: inset 0 0 150px rgba(0, 0, 0, 0.9);
  
  /* Optional: Adds a slight sepia/warm tint if the PNG is too stark white */
  background-color: #1a1a1a; 
  background-blend-mode: overlay;
}

/* Optional: Add a subtle noise texture over it for grit */
.parchment-panel::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
  pointer-events: none;
  opacity: 0.4;
}

/* ============================================
   FLOATING COMBAT TEXT ANIMATIONS
   ============================================ */

/* Standard float up animation for damage/heal */
@keyframes floatUp {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
  20% {
    opacity: 1;
    transform: translate(-50%, -70%) scale(1.15);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -150%) scale(0.8);
  }
}

/* Critical hit with shake effect */
@keyframes critFloat {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.2);
  }
  10% {
    transform: translate(-55%, -60%) scale(1.4) rotate(-3deg);
  }
  20% {
    transform: translate(-45%, -70%) scale(1.3) rotate(3deg);
  }
  30% {
    transform: translate(-52%, -80%) scale(1.2) rotate(-2deg);
  }
  40% {
    opacity: 1;
    transform: translate(-48%, -90%) scale(1.1) rotate(1deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -160%) scale(0.9) rotate(0deg);
  }
}

/* Simple fade for miss/block */
@keyframes fadeOnly {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%);
  }
  70% {
    opacity: 0.7;
    transform: translate(-50%, -80%);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -100%);
  }
}

/* Apply animations to floating text classes */
.floating-text {
  animation: floatUp 1.2s ease-out forwards;
}

.floating-text-crit {
  animation: critFloat 1.2s ease-out forwards;
}

.floating-text-fade {
  animation: fadeOnly 1s ease-out forwards;
}
